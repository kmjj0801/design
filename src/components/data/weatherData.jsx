// 서울 25개 구의 날씨 Mock 데이터
// 실제 앱에서는 OpenWeatherMap, AccuWeather 등의 API에서 가져옴
export const mockWeatherData = [
  {
    district: "강남구",
    temperature: 18,
    condition: "맑음",
    humidity: 45,
    windSpeed: 2.1,
    icon: "sunny",
    description: "화창한 날씨입니다",
    feelsLike: 19,
    uvIndex: 6
  },
  {
    district: "강동구",
    temperature: 17,
    condition: "구름조금",
    humidity: 52,
    windSpeed: 1.8,
    icon: "partly-cloudy",
    description: "구름이 조금 있지만 좋은 날씨",
    feelsLike: 18,
    uvIndex: 5
  },
  {
    district: "강북구",
    temperature: 16,
    condition: "흐림",
    humidity: 68,
    windSpeed: 2.5,
    icon: "cloudy",
    description: "흐린 날씨입니다",
    feelsLike: 15,
    uvIndex: 3
  },
  {
    district: "강서구",
    temperature: 19,
    condition: "맑음",
    humidity: 43,
    windSpeed: 2.0,
    icon: "sunny",
    description: "맑고 따뜻한 날씨",
    feelsLike: 20,
    uvIndex: 7
  },
  {
    district: "관악구",
    temperature: 17,
    condition: "구름많음",
    humidity: 58,
    windSpeed: 1.9,
    icon: "mostly-cloudy",
    description: "구름이 많은 날씨",
    feelsLike: 17,
    uvIndex: 4
  },
  {
    district: "광진구",
    temperature: 18,
    condition: "맑음",
    humidity: 47,
    windSpeed: 2.2,
    icon: "sunny",
    description: "맑은 하늘",
    feelsLike: 19,
    uvIndex: 6
  },
  {
    district: "구로구",
    temperature: 17,
    condition: "구름조금",
    humidity: 51,
    windSpeed: 1.7,
    icon: "partly-cloudy",
    description: "쾌적한 날씨",
    feelsLike: 18,
    uvIndex: 5
  },
  {
    district: "금천구",
    temperature: 16,
    condition: "흐림",
    humidity: 65,
    windSpeed: 2.3,
    icon: "cloudy",
    description: "흐린 하늘",
    feelsLike: 16,
    uvIndex: 3
  },
  {
    district: "노원구",
    temperature: 15,
    condition: "구름많음",
    humidity: 62,
    windSpeed: 2.4,
    icon: "mostly-cloudy",
    description: "선선한 날씨",
    feelsLike: 14,
    uvIndex: 4
  },
  {
    district: "도봉구",
    temperature: 15,
    condition: "흐림",
    humidity: 70,
    windSpeed: 2.6,
    icon: "cloudy",
    description: "쌀쌀한 날씨",
    feelsLike: 14,
    uvIndex: 2
  },
  {
    district: "동대문구",
    temperature: 18,
    condition: "맑음",
    humidity: 44,
    windSpeed: 2.0,
    icon: "sunny",
    description: "좋은 날씨",
    feelsLike: 19,
    uvIndex: 6
  },
  {
    district: "동작구",
    temperature: 17,
    condition: "구름조금",
    humidity: 49,
    windSpeed: 1.8,
    icon: "partly-cloudy",
    description: "따뜻한 날씨",
    feelsLike: 18,
    uvIndex: 5
  },
  {
    district: "마포구",
    temperature: 19,
    condition: "맑음",
    humidity: 42,
    windSpeed: 2.1,
    icon: "sunny",
    description: "매우 맑음",
    feelsLike: 20,
    uvIndex: 7
  },
  {
    district: "서대문구",
    temperature: 18,
    condition: "구름조금",
    humidity: 46,
    windSpeed: 1.9,
    icon: "partly-cloudy",
    description: "쾌청한 날씨",
    feelsLike: 19,
    uvIndex: 6
  },
  {
    district: "서초구",
    temperature: 19,
    condition: "맑음",
    humidity: 41,
    windSpeed: 2.0,
    icon: "sunny",
    description: "완벽한 날씨",
    feelsLike: 20,
    uvIndex: 7
  },
  {
    district: "성동구",
    temperature: 18,
    condition: "구름조금",
    humidity: 48,
    windSpeed: 2.2,
    icon: "partly-cloudy",
    description: "상쾌한 날씨",
    feelsLike: 19,
    uvIndex: 5
  },
  {
    district: "성북구",
    temperature: 16,
    condition: "구름많음",
    humidity: 59,
    windSpeed: 2.3,
    icon: "mostly-cloudy",
    description: "흐린 편",
    feelsLike: 16,
    uvIndex: 4
  },
  {
    district: "송파구",
    temperature: 19,
    condition: "맑음",
    humidity: 43,
    windSpeed: 1.9,
    icon: "sunny",
    description: "화창함",
    feelsLike: 20,
    uvIndex: 7
  },
  {
    district: "양천구",
    temperature: 18,
    condition: "구름조금",
    humidity: 47,
    windSpeed: 2.0,
    icon: "partly-cloudy",
    description: "좋은 여행 날씨",
    feelsLike: 19,
    uvIndex: 6
  },
  {
    district: "영등포구",
    temperature: 18,
    condition: "맑음",
    humidity: 45,
    windSpeed: 2.1,
    icon: "sunny",
    description: "맑고 따뜻함",
    feelsLike: 19,
    uvIndex: 6
  },
  {
    district: "용산구",
    temperature: 19,
    condition: "맑음",
    humidity: 40,
    windSpeed: 1.8,
    icon: "sunny",
    description: "최고의 날씨",
    feelsLike: 20,
    uvIndex: 7
  },
  {
    district: "은평구",
    temperature: 17,
    condition: "구름조금",
    humidity: 53,
    windSpeed: 2.2,
    icon: "partly-cloudy",
    description: "산뜻한 날씨",
    feelsLike: 18,
    uvIndex: 5
  },
  {
    district: "종로구",
    temperature: 18,
    condition: "맑음",
    humidity: 44,
    windSpeed: 2.0,
    icon: "sunny",
    description: "여행하기 좋은 날씨",
    feelsLike: 19,
    uvIndex: 6
  },
  {
    district: "중구",
    temperature: 19,
    condition: "맑음",
    humidity: 42,
    windSpeed: 1.9,
    icon: "sunny",
    description: "완벽한 관광 날씨",
    feelsLike: 20,
    uvIndex: 7
  },
  {
    district: "중랑구",
    temperature: 16,
    condition: "구름많음",
    humidity: 61,
    windSpeed: 2.4,
    icon: "mostly-cloudy",
    description: "선선함",
    feelsLike: 15,
    uvIndex: 4
  }
];

// 24시간 예보 Mock 데이터 생성 함수
const generateHourlyForecast = () => {
  const conditions = ["맑음", "구름조금", "구름많음", "흐림"];
  const icons = ["sunny", "partly-cloudy", "mostly-cloudy", "cloudy"];
  const hourlyData = [];
  
  const now = new Date();
  
  for (let i = 0; i < 24; i++) {
    const futureTime = new Date(now.getTime() + i * 60 * 60 * 1000);
    const hour = futureTime.getHours();
    
    // 시간대별 온도 변화 시뮬레이션
    let baseTemp = 18;
    if (hour >= 6 && hour <= 18) {
      // 낮 시간 (6시~18시): 온도 상승
      baseTemp += Math.sin((hour - 6) / 12 * Math.PI) * 6;
    } else {
      // 밤 시간: 온도 하강
      baseTemp -= 3;
    }
    
    const conditionIndex = Math.floor(Math.random() * conditions.length);
    
    hourlyData.push({
      time: futureTime.toLocaleTimeString('ko-KR', { 
        hour: '2-digit', 
        minute: '2-digit',
        hour12: false 
      }),
      timestamp: futureTime.toISOString(),
      temperature: Math.round(baseTemp + (Math.random() - 0.5) * 4),
      condition: conditions[conditionIndex],
      icon: icons[conditionIndex],
      humidity: Math.round(40 + Math.random() * 30),
      windSpeed: Math.round((1.5 + Math.random() * 2) * 10) / 10,
      precipitation: Math.round(Math.random() * 30)
    });
  }
  
  return hourlyData;
};

// 7일간 예보 Mock 데이터 생성 함수
const generateDailyForecast = () => {
  const conditions = ["맑음", "구름조금", "구름많음", "흐림", "비"];
  const icons = ["sunny", "partly-cloudy", "mostly-cloudy", "cloudy", "rainy"];
  const dayNames = ["일요일", "월요일", "화요일", "수요일", "목요일", "금요일", "토요일"];
  const dailyData = [];
  
  const today = new Date();
  
  for (let i = 0; i < 7; i++) {
    const futureDate = new Date(today.getTime() + i * 24 * 60 * 60 * 1000);
    const conditionIndex = Math.floor(Math.random() * conditions.length);
    
    const minTemp = Math.round(12 + Math.random() * 8);
    const maxTemp = minTemp + Math.round(6 + Math.random() * 8);
    
    dailyData.push({
      date: futureDate.toISOString().split('T')[0],
      dayOfWeek: i === 0 ? "오늘" : i === 1 ? "내일" : dayNames[futureDate.getDay()],
      condition: conditions[conditionIndex],
      icon: icons[conditionIndex],
      tempMax: maxTemp,
      tempMin: minTemp,
      humidity: Math.round(40 + Math.random() * 40),
      windSpeed: Math.round((1.0 + Math.random() * 3) * 10) / 10,
      precipitation: Math.round(Math.random() * 60),
      sunrise: "06:30",
      sunset: "18:45",
      uvIndex: Math.round(2 + Math.random() * 8)
    });
  }
  
  return dailyData;
};

// 날씨 아이콘 매핑 함수
export const getWeatherIcon = (condition) => {
  const iconMap = {
    "맑음": "☀️",
    "구름조금": "🌤️", 
    "구름많음": "⛅",
    "흐림": "☁️",
    "비": "🌧️",
    "눈": "❄️",
    "안개": "🌫️",
    "천둥번개": "⛈️"
  };
  
  return iconMap[condition] || "🌤️";
};

// 날씨 API 시뮬레이션 함수
export const fetchWeatherData = async () => {
  // 실제 API 호출 시뮬레이션 (0.5초 딜레이)
  await new Promise(resolve => setTimeout(resolve, 500));
  
  // 실제 앱에서는 여기서 외부 날씨 API를 호출
  // 예: const response = await fetch('https://api.openweathermap.org/data/2.5/weather?q=Seoul&appid=YOUR_API_KEY');
  
  return {
    timestamp: new Date().toISOString(),
    districts: mockWeatherData,
    hourlyForecast: generateHourlyForecast(),
    dailyForecast: generateDailyForecast()
  };
};

// 특정 구의 날씨 데이터 가져오기
export const getWeatherByDistrict = (district) => {
  return mockWeatherData.find(weather => weather.district === district);
};